<% if @user.nil? %>
    displayError($('.email-input:visible'), "用户不存在")
<% elsif @user.errors.messages[:email].present? %>
    displayError($('#session_email'), '邮箱不符合规范')
<% elsif @user.errors.messages[:password].present? %>
    displayError($('#session_password'), '密码不正确')
<% end %>


function displayError(obj, message) {
    obj.parents('.form-item').addClass('form-item-error')
    obj.parents('.form-item').next().removeClass('hidden')
    obj.parents('.form-item').next().find('.error-message').text(message)
}